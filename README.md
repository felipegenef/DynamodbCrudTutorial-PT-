</head><body><article id="c8baeaaa-155f-4247-a9d6-2f4a86d07dc4" class="page sans"><header><img width="100%" height="350px" src="https://images.unsplash.com/photo-1560732488-6b0df240254a?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><img class="icon" src="data:image/jpeg;base64,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"/></div><h1 class="page-title">Dynamoose Tutorial</h1></header><div class="page-body"><h1 id="28381407-8aa9-468f-ba93-51d3d6161ba8" class="">Baixar dynamoDB Local</h1><p id="c8d29081-b0e4-47bb-80af-0919d0fd39cd" class="">1) Va no site da amazon e baixe o arquivo</p><p id="da498ca1-9a1e-4f32-bbf5-e88912e709e5" class="">2) dentro do arquivo baixado e ja extraido digite</p><pre id="b52d8006-e97b-4c96-94ac-ac8c10096f1c" class="code"><code>java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb -port 4567 </code></pre><p id="37779e8d-5bee-4888-bb99-b94196897ed7" class="">3) coloque o seguinte codigo para rodar seu dynamodbLocal</p><pre id="6e5f648e-2ae1-4cbb-a5f2-57939fe4eaed" class="code"><code>const dynamoose = require(&quot;dynamoose&quot;);
dynamoose.aws.sdk.config.update({
  accessKeyId: &quot;AKID&quot;,
  secretAccessKey: &quot;SECRET&quot;,
  region: &quot;us-east-1&quot;,
});
dynamoose.aws.ddb.local(&quot;http://localhost:4567&quot;);</code></pre><h1 id="ff35110b-7b3e-4649-8af6-3ee7fc243ac9" class="">Dynamoose</h1><h2 id="898fe364-895d-482d-9e30-09a721cb8994" class="">Instalar</h2><pre id="bfc410c1-f6c2-45f1-a62d-208dabbfb8cf" class="code"><code>yarn add dynamoose</code></pre><h2 id="3f6f6231-d5a3-4278-9d43-3f497c45ff9a" class="">Criar arquivo de configuração do dynamoose</h2><pre id="90263828-3cb5-4208-91b1-db0f2401acf8" class="code"><code>const dynamoose = require(&quot;dynamoose&quot;);

dynamoose.aws.sdk.config.update({
accessKeyId: &quot;AKID&quot;,
secretAccessKey: &quot;SECRET&quot;,
region: &quot;us-east-1&quot;,
});</code></pre><h2 id="8c7eaf57-77d7-4fa9-b2ec-c86124c8938f" class="">Criar Modelos (Uma entidade por tabela)</h2><pre id="9955ed31-b53c-4d47-be76-bd3e27bf488c" class="code"><code>const dynamoose = require(&quot;dynamoose&quot;);
const { v4: uuidv4 } = require(&quot;uuid&quot;);
const userSchema = new dynamoose.Schema(
{
// By default the hashKey will be the first key in the Schema object.
//hashKey is commonly called a partition key in the AWS documentation.
id: {
type: String,
required: true,
hashKey: true,
default: uuidv4,
},
login: {
type: String,
required: true,
set: (value) =&gt; `${value.toLowerCase().trim()}`,
},
name: String,
cpf: String,
phone: String,
password: { type: String, required: true },
},
{ saveUnknown: true, timestamps: true }
);

module.exports = dynamoose.model(&quot;User&quot;, userSchema);</code></pre><h2 id="441eafda-1a9f-4c5a-9f80-9a530a5586f2" class="">Referenciar outros modelos(Uma entidade por tabela)</h2><pre id="14255511-0fec-4952-8814-31e2177238dc" class="code"><code>const dynamoose = require(&quot;dynamoose&quot;);
const User = require(&quot;./users&quot;);
const gameSchema = new dynamoose.Schema({
&quot;id&quot;: String,
&quot;state&quot;: String,
&quot;user&quot;: User
});
export default Game = dynamoose.model(&quot;Game&quot;, gameSchema);</code></pre><h2 id="7f3c1b5e-50f2-4b3d-9b8d-3842efd8f57c" class="">Criar Modelos (Uma tabela por projeto)</h2><pre id="124289f0-8350-46b4-a450-071883777ccc" class="code"><code>const dynamoose = require(&quot;dynamoose&quot;);
const { v4: uuidv4 } = require(&quot;uuid&quot;);
const userSchema = new dynamoose.Schema(
{
// By default the hashKey will be the first key in the Schema object.
//hashKey is commonly called a partition key in the AWS documentation.
table: {
type: String,
required: true,
hashKey: true,
default: &quot;Users&quot;,
},
id: {
type: String,
required: true,
// By default the rangeKey won&#x27;t exist.
//rangeKey is commonly called a sort key in the AWS documentation.
rangeKey: true,
default: uuidv4,
},
name: String,

    login: {
      type: String,
      required: true,
      set: (value) =&gt; `${value.toLowerCase().trim()}`,
    },
    cpf: String,
    phone: String,
    password: { type: String, required: true },

},
{ saveUnknown: true, timestamps: true }
);

module.exports = dynamoose.model(&quot;ProjectNameTable&quot;, userSchema);</code></pre><h2 id="79841ca7-d9b2-44ea-8e45-2972d8240d6e" class="">Referenciar outros modelos (Uma tabela por projeto)</h2><pre id="752c4fe6-76a7-4139-9b50-f1d5c30c9086" class="code"><code>const dynamoose = require(&quot;dynamoose&quot;);
const User = require(&quot;./UserOneTableModel&quot;);
const gameSchema = new dynamoose.Schema({
// By default the hashKey will be the first key in the Schema object.
//hashKey is commonly called a partition key in the AWS documentation.
table: {
type: String,
required: true,
hashKey: true,
default: &quot;Game&quot;,
},
id: {
type: String,
required: true,
// By default the rangeKey won&#x27;t exist.
//rangeKey is commonly called a sort key in the AWS documentation.
rangeKey: true,
default: uuidv4,
},
state: String,
user: User,
});
module.exports = dynamoose.model(&quot;ProjectNameTable&quot;, gameSchema);</code></pre><h1 id="fc65b011-575a-4763-a72b-e9ea4afe8315" class=""><mark class="highlight-teal">Create</mark></h1><h3 id="c7bcc440-6ce4-4ed7-a691-15d257441221" class="">Criando um usuário</h3><pre id="dfd9ce65-946e-43b2-9d8f-e9c09c16b863" class="code"><code>
server.post(&quot;/createUser&quot;, async (req, res) =&gt; {
const { login, password } = req.body;
try {
const user = await User.create({
login,
password,
});
console.log(user);
res.send(user);
} catch (error) {
console.error(error);
}
});</code></pre><h3 id="f8ec98fc-6722-40cb-9dad-653847a666a8" class="">Criando vários usuários por vez</h3><pre id="b9c864ff-ee91-4e84-8ecf-eba36a67bdca" class="code"><code>const result = await User.batchPut([
{ id: 1, name: &quot;Charlie&quot; },
{ id: 2, name: &quot;Bob&quot; },
]);
console.log(result);
//results can be {&quot;unprocessedItems&quot;: []} or {&quot;unprocessedItems&quot;: [{&quot;id&quot;: 1, &quot;name&quot;: &quot;Charlie&quot;}]}
} catch (error) {
console.error(error);
}</code></pre><h1 id="d8b262b3-58f6-47a2-a1e6-41043a395144" class=""><mark class="highlight-teal">Update</mark></h1><h2 id="0e257019-853b-48e4-8749-500930dc1832" class=""><mark class="highlight-blue">Where</mark></h2><p id="2a0fd94f-42b3-41a5-93a2-3be9f4b5bc39" class="">modifica o nome e o id do usuário que baterem com a condição</p><pre id="a5b65c07-cf23-44c1-87fa-95ee49ac3b7f" class="code"><code>const condition = new dynamoose.Condition().where(&quot;name&quot;).eq(&quot;Will&quot;);

await User.update({ id: id }, { name: name }, { condition });</code></pre><p id="b814d5bb-435f-4a66-b0af-11a454b2c027" class="">

</p><h2 id="3c322a05-39ae-4f17-9479-b20c27beeb51" class=""><mark class="highlight-blue">$SET</mark></h2><p id="537d495d-05c1-4414-bd8f-4a275de01d6e" class="">muda o nome do usuário encontrado para Bob</p><pre id="5d3c4390-ae60-4a6a-939b-9b09cc64ff35" class="code"><code> await User.update({ id: id }, { name: name }, { $SET: { name: &quot;Bob&quot; } });</code></pre><h2 id="462cfe81-0e5b-46f2-ab77-927073c290cb" class=""><mark class="highlight-blue">$ADD</mark></h2><p id="d5752d9c-49a2-4929-a3c9-5c67e54b032e" class="">Adiciona 1 na idade </p><pre id="1df3db67-182d-46c3-aa4d-ef1c4aacc18f" class="code"><code> await User.update({ id: id }, { name: name }, { $ADD: { age: 1 } });</code></pre><p id="a3dfa598-0a7d-4712-be21-5a018bb967d3" class="">adiciona &quot;Gené&quot; ao nome</p><pre id="66095f02-6841-4645-9066-b05e0d0d1430" class="code"><code> await User.update({ id: id }, { name: name }, { $ADD: { name: &quot;Gene&quot; } });</code></pre><h2 id="0d7dcba3-756c-471a-9d67-8275fbc0f053" class=""><mark class="highlight-blue">$REMOVE</mark></h2><p id="5fb5da4a-bbc6-41ee-b2ff-e609edd6bf5b" class="">deleta o atributo address do usuário</p><pre id="004bb576-0cf7-4a6d-8658-fe2eeb9cadc7" class="code"><code> await User.update({ id: id }, { $REMOVE: [&quot;address&quot;] });</code></pre><p id="c3bd3bf3-b9a4-481d-b447-57c3ddfc5527" class="">
</p><h1 id="694e3b8a-e3c6-4b15-ba62-7188df31d71b" class=""><mark class="highlight-teal">Delete</mark></h1><h2 id="32eb3a4e-ef04-4443-a99c-e1a3643a5f1b" class=""><mark class="highlight-blue">Por id (Partition key )</mark></h2><pre id="7ed207b0-72b7-4296-8dea-cd7ba6043b03" class="code"><code>try {
    await User.delete(id);
  console.log(&quot;Successfully deleted item&quot;);
  } catch (err) {
    console.log(err);
  }</code></pre><p id="cb45c984-9e39-4132-8692-9cc7226bda08" class="">
</p><h2 id="815003b8-4673-4eb9-990a-277d407a1625" class=""><mark class="highlight-blue">Por id composto (Partition key + Sort Key )</mark></h2><pre id="1ad68725-7388-45d8-bc8c-3763e44f2b72" class="code"><code>try {
    await User.delete({ id: pk, name: sk });
    console.log(&quot;Successfully deleted item&quot;);
  } catch (error) {
    console.error(error);
  }</code></pre><p id="bc63c8bd-0806-490f-ba62-eac58ea48e9c" class="">
</p><h2 id="1299d245-827c-429a-9a7e-0fa835fa4c1e" class=""><mark class="highlight-blue">Deletando muitos por vez</mark></h2><pre id="3b8d2ee8-f087-4360-aa33-f1aeccf916b6" class="code"><code>//ids=[id1,id2]
  try {
    const response = await User.batchDelete(ids);
    console.log(response);
    //results can be {&quot;unprocessedItems&quot;: []} or {&quot;unprocessedItems&quot;: [{&quot;id&quot;: 1, &quot;name&quot;: &quot;Charlie&quot;}]}
  } catch (error) {
    console.error(error);
  }</code></pre><h1 id="e150ba4e-4595-407a-b9ef-c97e523cc6c0" class=""><mark class="highlight-teal">Querys</mark></h1><h3 id="15e5f7cb-6733-4394-8b53-4bc25bab574e" class=""><mark class="highlight-blue">Where</mark></h3><h3 id="c294f53d-950f-4f22-8e73-fa4d22a43c9e" class="">Pegando usuários com where</h3><pre id="fbcf0125-76c7-494d-9efc-bdcb21a487c7" class="code"><code>const response = await User.query(&quot;name&quot;).eq(&quot;Will&quot;).exec();</code></pre><h3 id="5e544a94-0868-4988-a822-81c293251e4c" class=""><mark class="highlight-blue">Limit</mark></h3><h3 id="b5739f12-3b0f-4609-8648-053554868db0" class="">Pegando usuários com where e limite de 5</h3><pre id="ca6e6401-46c8-4132-bd9a-b73cd211afaa" class="code"><code>const response = await User.query(&quot;name&quot;).eq(&quot;Will&quot;).limit(5).exec();</code></pre><h3 id="2ea81b34-aa61-46da-b157-952c3c223751" class=""><mark class="highlight-blue">Atributes</mark></h3><h3 id="57e1f353-7261-49cc-83c8-298be9f89f45" class="">Pegando nome e id de usuários</h3><pre id="e782a533-ef8a-4ee6-a2e6-2400a8da4ada" class="code"><code>const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).attributes([&quot;id&quot;, &quot;name&quot;]);</code></pre><h3 id="2dc4cde5-a008-42d6-86a2-3ae0b1406be5" class=""><mark class="highlight-blue">Count</mark></h3><h3 id="85948fde-a3a5-4eff-b085-fa3950c6a937" class="">Contando usuários com nome Will</h3><pre id="9a9424f0-defe-492b-9658-231bf965b3f2" class="code"><code>const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).count().exec();</code></pre><p id="6c3facbd-e621-43b6-9f6c-e940e4a04397" class="">
</p><h3 id="417b46c4-5e37-4ea9-9799-fae05d0735bb" class=""><mark class="highlight-blue">OrderBy</mark></h3><h3 id="e6f75b5c-fc1f-4999-8a9c-3ae0987c8e83" class="">Ordendando usuários</h3><pre id="745e7a51-09a7-4cb9-92a6-febc8c92e30e" class="code"><code>const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).sort(&quot;ascending&quot;).exec();
const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).sort(&quot;descending&quot;).exec();</code></pre><p id="f82a2ac2-1ef5-41d0-a908-27b65ea1840f" class="">
</p><h3 id="2f8d9ba6-c042-4293-8670-aaf23d223bec" class=""><mark class="highlight-blue">ALL</mark></h3><h3 id="b7240eaf-4f0b-43d1-8a56-2796fd4bf5d0" class="">Pegando todos os usuários</h3><pre id="cfb8d184-a340-47da-a0e8-0f7e3c6d6ae8" class="code"><code>const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).sort(&quot;ascending&quot;).all().exec();
</code></pre><h3 id="1d8663e8-b013-4373-b999-b32f86885e49" class=""><mark class="highlight-blue">Contains</mark></h3><h3 id="ee20b723-36b7-4bb8-b841-dfc471a1859c" class="">Pegando todos os usuários que contenham Will no nome</h3><pre id="a5cadafc-194e-4166-871d-7c05b6275aab" class="code"><code>const response=await User.query(&quot;name&quot;).contains(&quot;Will&quot;).exec();
</code></pre><h2 id="d19f4fa5-d17e-4e2e-b4c8-f9ad07da1870" class=""><mark class="highlight-purple">Operadores</mark></h2><h3 id="30b109ed-c3f6-4568-85d4-c76074b7f45e" class=""><mark class="highlight-blue">And</mark></h3><pre id="aa9e70ff-cda8-4136-81c8-142068064c50" class="code"><code>const condition =new dynamoose.Condition().where(&quot;id&quot;).eq(1).and().where(&quot;name&quot;).eq(&quot;Bob&quot;);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="f543c1f6-4d84-47f4-902e-1b17c37aa65b" class=""><mark class="highlight-blue">Equal</mark></h3><pre id="13389e42-33f5-4315-98c2-a24e84af1eb3" class="code"><code>const condition =new dynamoose.Condition().where(&quot;name&quot;).eq(&quot;Bob&quot;);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="965c8d87-42d8-49f4-8812-abb1043b5e65" class=""><mark class="highlight-blue">Or</mark></h3><pre id="2cc60ddb-6ca8-4529-8b16-f59aa3e276b8" class="code"><code>const condition =new dynamoose.Condition().where(&quot;id&quot;).eq(1).or().where(&quot;name&quot;).eq(&quot;Bob&quot;);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="4eea2af0-7aac-4ec3-acb6-778940010a46" class=""><mark class="highlight-blue">Not</mark></h3><pre id="b4d06ff7-dd28-44b5-b28b-46fae69623d4" class="code"><code>const condition =new dynamoose.Condition().where(&quot;id&quot;).not().eq(1);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="a043262e-373b-4cd5-997e-b1b093d2241d" class=""><mark class="highlight-blue">Where</mark></h3><pre id="9ebeed6d-0881-4696-ae35-2b10660c63a3" class="code"><code>const condition =new dynamoose.Condition().where(&quot;id&quot;).eq(1).and().where(&quot;name&quot;).eq(&quot;Bob&quot;);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="56e221cd-d1d4-423d-8760-083dc0324ace" class=""><mark class="highlight-blue">Exists</mark></h3><p id="a64ea7be-a8f4-4ea7-ac57-dec26c1a553a" class="">busca todos em que o campo phoneNumber existe</p><pre id="35b09205-ee3c-4370-aa4e-2a1cad78145e" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;phoneNumber&quot;).exists();
await User.get({ condition });</code></pre><h3 id="2c5c5643-8664-4486-9777-0c55e07e1c7e" class=""><mark class="highlight-blue">Less then</mark></h3><pre id="3ab31b1f-f85e-4ba7-92c5-bd1531ade6a1" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;age&quot;).lt(5);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="a545ec1e-469d-42ff-a54c-a08bb9ff759d" class=""><mark class="highlight-blue">Less then or Equal</mark></h3><pre id="c2f3d539-5657-4df9-b033-618a3f3ed610" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;age&quot;).le(5);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="e9642a7f-b966-4eb6-ba94-719c0a1558ae" class=""><mark class="highlight-blue">Greater</mark></h3><pre id="2b72fa04-ef18-42b8-a09a-2dbb66a0b21e" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;age&quot;).gt(5);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="dd45888b-f3ee-4cf3-8d26-2a0b046f36e0" class=""><mark class="highlight-blue">Beggins with</mark></h3><pre id="89d387d1-873f-4e16-96c5-0a059d25098a" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;name&quot;).beginsWith(&quot;T&quot;);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="b252a309-f305-42e6-97e7-e2e9bd3b2930" class=""><mark class="highlight-blue">Contains</mark></h3><pre id="88e3512a-aa62-43ef-9b03-143f96336dd7" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;name&quot;).beginsWith(&quot;T&quot;);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="91bdb2e1-64be-466d-b0a1-70723a231531" class=""><mark class="highlight-blue">IN</mark></h3><p id="d6d906fa-5766-4d67-8294-f76e4e173e75" class="">todos os nomes que sejam ou Charlie ou Bob</p><pre id="3a84d7c2-8686-4d5e-a9f3-c44cea3b4b7f" class="code"><code>const condition =new dynamoose.Condition(&quot;name&quot;).in([&quot;Charlie&quot;, &quot;Bob&quot;]);
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="58544800-6937-4ddd-accb-ce7e4b2b5249" class=""><mark class="highlight-blue">Between</mark></h3><pre id="bfb96cbd-8983-48af-852b-7e52051c059e" class="code"><code>//a=5,b=9
const condition = new dynamoose.Condition().filter(&quot;age&quot;).between(a, b);
await User.update({ id: id }, { name: name }, { condition });</code></pre><p id="9053e822-8ec5-4a69-8845-98b9cc34bd6d" class="">
</p></article></body></html>
    console.error(error);
147
  }</code></pre><h1 id="e150ba4e-4595-407a-b9ef-c97e523cc6c0" class=""><mark class="highlight-teal">Querys</mark></h1><h3 id="15e5f7cb-6733-4394-8b53-4bc25bab574e" class=""><mark class="highlight-blue">Where</mark></h3><h3 id="c294f53d-950f-4f22-8e73-fa4d22a43c9e" class="">Pegando usuários com where</h3><pre id="fbcf0125-76c7-494d-9efc-bdcb21a487c7" class="code"><code>const response = await User.query(&quot;name&quot;).eq(&quot;Will&quot;).exec();</code></pre><h3 id="5e544a94-0868-4988-a822-81c293251e4c" class=""><mark class="highlight-blue">Limit</mark></h3><h3 id="b5739f12-3b0f-4609-8648-053554868db0" class="">Pegando usuários com where e limite de 5</h3><pre id="ca6e6401-46c8-4132-bd9a-b73cd211afaa" class="code"><code>const response = await User.query(&quot;name&quot;).eq(&quot;Will&quot;).limit(5).exec();</code></pre><h3 id="2ea81b34-aa61-46da-b157-952c3c223751" class=""><mark class="highlight-blue">Atributes</mark></h3><h3 id="57e1f353-7261-49cc-83c8-298be9f89f45" class="">Pegando nome e id de usuários</h3><pre id="e782a533-ef8a-4ee6-a2e6-2400a8da4ada" class="code"><code>const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).attributes([&quot;id&quot;, &quot;name&quot;]);</code></pre><h3 id="2dc4cde5-a008-42d6-86a2-3ae0b1406be5" class=""><mark class="highlight-blue">Count</mark></h3><h3 id="85948fde-a3a5-4eff-b085-fa3950c6a937" class="">Contando usuários com nome Will</h3><pre id="9a9424f0-defe-492b-9658-231bf965b3f2" class="code"><code>const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).count().exec();</code></pre><p id="6c3facbd-e621-43b6-9f6c-e940e4a04397" class="">
148
</p><h3 id="417b46c4-5e37-4ea9-9799-fae05d0735bb" class=""><mark class="highlight-blue">OrderBy</mark></h3><h3 id="e6f75b5c-fc1f-4999-8a9c-3ae0987c8e83" class="">Ordendando usuários</h3><pre id="745e7a51-09a7-4cb9-92a6-febc8c92e30e" class="code"><code>const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).sort(&quot;ascending&quot;).exec();
149
const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).sort(&quot;descending&quot;).exec();</code></pre><p id="f82a2ac2-1ef5-41d0-a908-27b65ea1840f" class="">
150
</p><h3 id="2f8d9ba6-c042-4293-8670-aaf23d223bec" class=""><mark class="highlight-blue">ALL</mark></h3><h3 id="b7240eaf-4f0b-43d1-8a56-2796fd4bf5d0" class="">Pegando todos os usuários</h3><pre id="cfb8d184-a340-47da-a0e8-0f7e3c6d6ae8" class="code"><code>const response=await User.query(&quot;name&quot;).eq(&quot;Will&quot;).sort(&quot;ascending&quot;).all().exec();
151
</code></pre><h3 id="1d8663e8-b013-4373-b999-b32f86885e49" class=""><mark class="highlight-blue">Contains</mark></h3><h3 id="ee20b723-36b7-4bb8-b841-dfc471a1859c" class="">Pegando todos os usuários que contenham Will no nome</h3><pre id="a5cadafc-194e-4166-871d-7c05b6275aab" class="code"><code>const response=await User.query(&quot;name&quot;).contains(&quot;Will&quot;).exec();
152
</code></pre><h2 id="d19f4fa5-d17e-4e2e-b4c8-f9ad07da1870" class=""><mark class="highlight-purple">Operadores</mark></h2><h3 id="30b109ed-c3f6-4568-85d4-c76074b7f45e" class=""><mark class="highlight-blue">And</mark></h3><pre id="aa9e70ff-cda8-4136-81c8-142068064c50" class="code"><code>const condition =new dynamoose.Condition().where(&quot;id&quot;).eq(1).and().where(&quot;name&quot;).eq(&quot;Bob&quot;);
153
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="f543c1f6-4d84-47f4-902e-1b17c37aa65b" class=""><mark class="highlight-blue">Equal</mark></h3><pre id="13389e42-33f5-4315-98c2-a24e84af1eb3" class="code"><code>const condition =new dynamoose.Condition().where(&quot;name&quot;).eq(&quot;Bob&quot;);
154
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="965c8d87-42d8-49f4-8812-abb1043b5e65" class=""><mark class="highlight-blue">Or</mark></h3><pre id="2cc60ddb-6ca8-4529-8b16-f59aa3e276b8" class="code"><code>const condition =new dynamoose.Condition().where(&quot;id&quot;).eq(1).or().where(&quot;name&quot;).eq(&quot;Bob&quot;);
155
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="4eea2af0-7aac-4ec3-acb6-778940010a46" class=""><mark class="highlight-blue">Not</mark></h3><pre id="b4d06ff7-dd28-44b5-b28b-46fae69623d4" class="code"><code>const condition =new dynamoose.Condition().where(&quot;id&quot;).not().eq(1);
156
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="a043262e-373b-4cd5-997e-b1b093d2241d" class=""><mark class="highlight-blue">Where</mark></h3><pre id="9ebeed6d-0881-4696-ae35-2b10660c63a3" class="code"><code>const condition =new dynamoose.Condition().where(&quot;id&quot;).eq(1).and().where(&quot;name&quot;).eq(&quot;Bob&quot;);
157
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="56e221cd-d1d4-423d-8760-083dc0324ace" class=""><mark class="highlight-blue">Exists</mark></h3><p id="a64ea7be-a8f4-4ea7-ac57-dec26c1a553a" class="">busca todos em que o campo phoneNumber existe</p><pre id="35b09205-ee3c-4370-aa4e-2a1cad78145e" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;phoneNumber&quot;).exists();
158
await User.get({ condition });</code></pre><h3 id="2c5c5643-8664-4486-9777-0c55e07e1c7e" class=""><mark class="highlight-blue">Less then</mark></h3><pre id="3ab31b1f-f85e-4ba7-92c5-bd1531ade6a1" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;age&quot;).lt(5);
159
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="a545ec1e-469d-42ff-a54c-a08bb9ff759d" class=""><mark class="highlight-blue">Less then or Equal</mark></h3><pre id="c2f3d539-5657-4df9-b033-618a3f3ed610" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;age&quot;).le(5);
160
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="e9642a7f-b966-4eb6-ba94-719c0a1558ae" class=""><mark class="highlight-blue">Greater</mark></h3><pre id="2b72fa04-ef18-42b8-a09a-2dbb66a0b21e" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;age&quot;).gt(5);
161
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="dd45888b-f3ee-4cf3-8d26-2a0b046f36e0" class=""><mark class="highlight-blue">Beggins with</mark></h3><pre id="89d387d1-873f-4e16-96c5-0a059d25098a" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;name&quot;).beginsWith(&quot;T&quot;);
162
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="b252a309-f305-42e6-97e7-e2e9bd3b2930" class=""><mark class="highlight-blue">Contains</mark></h3><pre id="88e3512a-aa62-43ef-9b03-143f96336dd7" class="code"><code>const condition =new dynamoose.Condition().filter(&quot;name&quot;).beginsWith(&quot;T&quot;);
163
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="91bdb2e1-64be-466d-b0a1-70723a231531" class=""><mark class="highlight-blue">IN</mark></h3><p id="d6d906fa-5766-4d67-8294-f76e4e173e75" class="">todos os nomes que sejam ou Charlie ou Bob</p><pre id="3a84d7c2-8686-4d5e-a9f3-c44cea3b4b7f" class="code"><code>const condition =new dynamoose.Condition(&quot;name&quot;).in([&quot;Charlie&quot;, &quot;Bob&quot;]);
164
await User.update({ id: id }, { name: name }, { condition });</code></pre><h3 id="58544800-6937-4ddd-accb-ce7e4b2b5249" class=""><mark class="highlight-blue">Between</mark></h3><pre id="bfb96cbd-8983-48af-852b-7e52051c059e" class="code"><code>//a=5,b=9
165
const condition = new dynamoose.Condition().filter(&quot;age&quot;).between(a, b);
166
await User.update({ id: id }, { name: name }, { condition });</code></pre><p id="9053e822-8ec5-4a69-8845-98b9cc34bd6d" class="">

</p>
